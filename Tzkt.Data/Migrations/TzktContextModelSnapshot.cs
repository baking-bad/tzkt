// <auto-generated />
using System;
using System.Numerics;
using System.Text.Json;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;
using Tzkt.Data;

#nullable disable

namespace Tzkt.Data.Migrations
{
    [DbContext(typeof(TzktContext))]
    partial class TzktContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "9.0.1")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("Tzkt.Data.Models.Account", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("ActiveRefutationGamesCount")
                        .HasColumnType("integer");

                    b.Property<int>("ActiveTicketsCount")
                        .HasColumnType("integer");

                    b.Property<int>("ActiveTokensCount")
                        .HasColumnType("integer");

                    b.Property<string>("Address")
                        .IsRequired()
                        .HasMaxLength(37)
                        .HasColumnType("character varying(37)");

                    b.Property<long>("Balance")
                        .HasColumnType("bigint");

                    b.Property<int>("ContractsCount")
                        .HasColumnType("integer");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<int?>("DelegateId")
                        .HasColumnType("integer");

                    b.Property<int?>("DelegationLevel")
                        .HasColumnType("integer");

                    b.Property<int>("DelegationsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DrainDelegateCount")
                        .HasColumnType("integer");

                    b.Property<string>("Extras")
                        .HasColumnType("jsonb");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("IncreasePaidStorageCount")
                        .HasColumnType("integer");

                    b.Property<int?>("Index")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<string>("Metadata")
                        .HasColumnType("jsonb");

                    b.Property<int>("MigrationsCount")
                        .HasColumnType("integer");

                    b.Property<int>("OriginationsCount")
                        .HasColumnType("integer");

                    b.Property<int>("RefutationGamesCount")
                        .HasColumnType("integer");

                    b.Property<int>("RevealsCount")
                        .HasColumnType("integer");

                    b.Property<long>("RollupBonds")
                        .HasColumnType("bigint");

                    b.Property<int>("RollupsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupAddMessagesCount")
                        .HasColumnType("integer");

                    b.Property<long>("SmartRollupBonds")
                        .HasColumnType("bigint");

                    b.Property<int>("SmartRollupCementCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupExecuteCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupOriginateCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupPublishCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupRecoverBondCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupRefuteCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupsCount")
                        .HasColumnType("integer");

                    b.Property<bool>("Staked")
                        .HasColumnType("boolean");

                    b.Property<int>("TicketBalancesCount")
                        .HasColumnType("integer");

                    b.Property<int>("TicketTransfersCount")
                        .HasColumnType("integer");

                    b.Property<int>("TokenBalancesCount")
                        .HasColumnType("integer");

                    b.Property<int>("TokenTransfersCount")
                        .HasColumnType("integer");

                    b.Property<int>("TransactionsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TransferTicketCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupCommitCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupDispatchTicketsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupFinalizeCommitmentCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupOriginationCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupRejectionCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupRemoveCommitmentCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupReturnBondCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupSubmitBatchCount")
                        .HasColumnType("integer");

                    b.Property<byte>("Type")
                        .HasColumnType("smallint");

                    b.Property<int>("UpdateSecondaryKeyCount")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("Address")
                        .IsUnique();

                    b.HasIndex("DelegateId")
                        .HasFilter("\"DelegateId\" IS NOT NULL");

                    b.HasIndex("Extras");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Extras"), "gin");
                    NpgsqlIndexBuilderExtensions.HasOperators(b.HasIndex("Extras"), new[] { "jsonb_path_ops" });

                    b.HasIndex("FirstLevel");

                    b.HasIndex("Index")
                        .IsUnique()
                        .HasFilter("\"Index\" IS NOT NULL");

                    b.HasIndex("Metadata");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Metadata"), "gin");
                    NpgsqlIndexBuilderExtensions.HasOperators(b.HasIndex("Metadata"), new[] { "jsonb_path_ops" });

                    b.HasIndex("Type");

                    b.HasIndex("Staked", "Type")
                        .HasFilter("\"Staked\" = true");

                    b.ToTable("Accounts", (string)null);

                    b.HasDiscriminator<byte>("Type").HasValue((byte)3);

                    b.UseTphMappingStrategy();
                });

            modelBuilder.Entity("Tzkt.Data.Models.ActivationOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("AccountId")
                        .HasColumnType("integer");

                    b.Property<long>("Balance")
                        .HasColumnType("bigint");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("AccountId")
                        .IsUnique();

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.ToTable("ActivationOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.AppState", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("AbaActivationLevel")
                        .HasColumnType("integer");

                    b.Property<int>("AccountCounter")
                        .HasColumnType("integer");

                    b.Property<int>("ActivationOpsCount")
                        .HasColumnType("integer");

                    b.Property<int?>("AiActivationLevel")
                        .HasColumnType("integer");

                    b.Property<int>("AttestationOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("AttestationRewardOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("AutostakingOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("BallotOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("BigMapCounter")
                        .HasColumnType("integer");

                    b.Property<int>("BigMapKeyCounter")
                        .HasColumnType("integer");

                    b.Property<int>("BigMapUpdateCounter")
                        .HasColumnType("integer");

                    b.Property<int>("BlocksCount")
                        .HasColumnType("integer");

                    b.Property<string>("Chain")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("ChainId")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("CommitmentsCount")
                        .HasColumnType("integer");

                    b.Property<int>("ConstantsCount")
                        .HasColumnType("integer");

                    b.Property<int>("Cycle")
                        .HasColumnType("integer");

                    b.Property<int>("CyclesCount")
                        .HasColumnType("integer");

                    b.Property<int>("DalAttestationRewardOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DalEntrapmentEvidenceOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DalPublishCommitmentOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DelegationOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DomainsLevel")
                        .HasColumnType("integer");

                    b.Property<string>("DomainsNameRegistry")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("DoubleBakingOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DoubleConsensusOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DrainDelegateOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("EventCounter")
                        .HasColumnType("integer");

                    b.Property<int>("EventsCount")
                        .HasColumnType("integer");

                    b.Property<string>("Extras")
                        .HasColumnType("jsonb");

                    b.Property<string>("Hash")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("InboxMessageCounter")
                        .HasColumnType("integer");

                    b.Property<int>("IncreasePaidStorageOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("KnownHead")
                        .HasColumnType("integer");

                    b.Property<DateTime>("LastSync")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int>("ManagerCounter")
                        .HasColumnType("integer");

                    b.Property<int>("MigrationOpsCount")
                        .HasColumnType("integer");

                    b.Property<string>("NextProtocol")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("NonceRevelationOpsCount")
                        .HasColumnType("integer");

                    b.Property<long>("OperationCounter")
                        .HasColumnType("bigint");

                    b.Property<int>("OriginationOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("PendingDelegateParameters")
                        .HasColumnType("integer");

                    b.Property<int>("PendingSecondaryKeys")
                        .HasColumnType("integer");

                    b.Property<int>("PreattestationOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("ProposalCounter")
                        .HasColumnType("integer");

                    b.Property<int>("ProposalOpsCount")
                        .HasColumnType("integer");

                    b.Property<string>("Protocol")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("ProtocolsCount")
                        .HasColumnType("integer");

                    b.Property<double>("QuoteBtc")
                        .HasColumnType("double precision");

                    b.Property<double>("QuoteCny")
                        .HasColumnType("double precision");

                    b.Property<double>("QuoteEth")
                        .HasColumnType("double precision");

                    b.Property<double>("QuoteEur")
                        .HasColumnType("double precision");

                    b.Property<double>("QuoteGbp")
                        .HasColumnType("double precision");

                    b.Property<double>("QuoteJpy")
                        .HasColumnType("double precision");

                    b.Property<double>("QuoteKrw")
                        .HasColumnType("double precision");

                    b.Property<int>("QuoteLevel")
                        .HasColumnType("integer");

                    b.Property<double>("QuoteUsd")
                        .HasColumnType("double precision");

                    b.Property<int>("RefutationGameCounter")
                        .HasColumnType("integer");

                    b.Property<int>("RegisterConstantOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("RevealOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("RevelationPenaltyOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("ScriptCounter")
                        .HasColumnType("integer");

                    b.Property<int>("SetDelegateParametersOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SetDepositsLimitOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupAddMessagesOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupCementOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupCommitmentCounter")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupExecuteOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupOriginateOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupPublishOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupRecoverBondOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupRefuteOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SoftwareCounter")
                        .HasColumnType("integer");

                    b.Property<int>("StakingOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("StakingUpdatesCount")
                        .HasColumnType("integer");

                    b.Property<int>("StorageCounter")
                        .HasColumnType("integer");

                    b.Property<int>("TicketBalancesCount")
                        .HasColumnType("integer");

                    b.Property<int>("TicketTransfersCount")
                        .HasColumnType("integer");

                    b.Property<int>("TicketsCount")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("TokenBalancesCount")
                        .HasColumnType("integer");

                    b.Property<int>("TokenTransfersCount")
                        .HasColumnType("integer");

                    b.Property<int>("TokensCount")
                        .HasColumnType("integer");

                    b.Property<int>("TransactionOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TransferTicketOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupCommitOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupDispatchTicketsOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupFinalizeCommitmentOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupOriginationOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupRejectionOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupRemoveCommitmentOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupReturnBondOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TxRollupSubmitBatchOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("UnstakeRequestsCount")
                        .HasColumnType("integer");

                    b.Property<int>("UpdateSecondaryKeyOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("VdfRevelationOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("VotingEpoch")
                        .HasColumnType("integer");

                    b.Property<int>("VotingPeriod")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.ToTable("AppState", (string)null);

                    b.HasData(
                        new
                        {
                            Id = -1,
                            AccountCounter = 0,
                            ActivationOpsCount = 0,
                            AttestationOpsCount = 0,
                            AttestationRewardOpsCount = 0,
                            AutostakingOpsCount = 0,
                            BallotOpsCount = 0,
                            BigMapCounter = 0,
                            BigMapKeyCounter = 0,
                            BigMapUpdateCounter = 0,
                            BlocksCount = 0,
                            Chain = "",
                            ChainId = "",
                            CommitmentsCount = 0,
                            ConstantsCount = 0,
                            Cycle = -1,
                            CyclesCount = 0,
                            DalAttestationRewardOpsCount = 0,
                            DalEntrapmentEvidenceOpsCount = 0,
                            DalPublishCommitmentOpsCount = 0,
                            DelegationOpsCount = 0,
                            DomainsLevel = 0,
                            DomainsNameRegistry = "",
                            DoubleBakingOpsCount = 0,
                            DoubleConsensusOpsCount = 0,
                            DrainDelegateOpsCount = 0,
                            EventCounter = 0,
                            EventsCount = 0,
                            Hash = "",
                            InboxMessageCounter = 0,
                            IncreasePaidStorageOpsCount = 0,
                            KnownHead = 0,
                            LastSync = new DateTime(1, 1, 1, 0, 0, 0, 0, DateTimeKind.Unspecified),
                            Level = -1,
                            ManagerCounter = 0,
                            MigrationOpsCount = 0,
                            NextProtocol = "",
                            NonceRevelationOpsCount = 0,
                            OperationCounter = 0L,
                            OriginationOpsCount = 0,
                            PendingDelegateParameters = 0,
                            PendingSecondaryKeys = 0,
                            PreattestationOpsCount = 0,
                            ProposalCounter = 0,
                            ProposalOpsCount = 0,
                            Protocol = "",
                            ProtocolsCount = 0,
                            QuoteBtc = 0.0,
                            QuoteCny = 0.0,
                            QuoteEth = 0.0,
                            QuoteEur = 0.0,
                            QuoteGbp = 0.0,
                            QuoteJpy = 0.0,
                            QuoteKrw = 0.0,
                            QuoteLevel = -1,
                            QuoteUsd = 0.0,
                            RefutationGameCounter = 0,
                            RegisterConstantOpsCount = 0,
                            RevealOpsCount = 0,
                            RevelationPenaltyOpsCount = 0,
                            ScriptCounter = 0,
                            SetDelegateParametersOpsCount = 0,
                            SetDepositsLimitOpsCount = 0,
                            SmartRollupAddMessagesOpsCount = 0,
                            SmartRollupCementOpsCount = 0,
                            SmartRollupCommitmentCounter = 0,
                            SmartRollupExecuteOpsCount = 0,
                            SmartRollupOriginateOpsCount = 0,
                            SmartRollupPublishOpsCount = 0,
                            SmartRollupRecoverBondOpsCount = 0,
                            SmartRollupRefuteOpsCount = 0,
                            SoftwareCounter = 0,
                            StakingOpsCount = 0,
                            StakingUpdatesCount = 0,
                            StorageCounter = 0,
                            TicketBalancesCount = 0,
                            TicketTransfersCount = 0,
                            TicketsCount = 0,
                            Timestamp = new DateTime(1, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            TokenBalancesCount = 0,
                            TokenTransfersCount = 0,
                            TokensCount = 0,
                            TransactionOpsCount = 0,
                            TransferTicketOpsCount = 0,
                            TxRollupCommitOpsCount = 0,
                            TxRollupDispatchTicketsOpsCount = 0,
                            TxRollupFinalizeCommitmentOpsCount = 0,
                            TxRollupOriginationOpsCount = 0,
                            TxRollupRejectionOpsCount = 0,
                            TxRollupRemoveCommitmentOpsCount = 0,
                            TxRollupReturnBondOpsCount = 0,
                            TxRollupSubmitBatchOpsCount = 0,
                            UnstakeRequestsCount = 0,
                            UpdateSecondaryKeyOpsCount = 0,
                            VdfRevelationOpsCount = 0,
                            VotingEpoch = -1,
                            VotingPeriod = -1
                        });
                });

            modelBuilder.Entity("Tzkt.Data.Models.AttestationOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("DelegateId")
                        .HasColumnType("integer");

                    b.Property<long>("Deposit")
                        .HasColumnType("bigint");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<long>("Power")
                        .HasColumnType("bigint");

                    b.Property<int?>("ResetDeactivation")
                        .HasColumnType("integer");

                    b.Property<long>("Reward")
                        .HasColumnType("bigint");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("DelegateId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.ToTable("AttestationOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.AttestationRewardOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<long>("Expected")
                        .HasColumnType("bigint");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long>("RewardDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedShared")
                        .HasColumnType("bigint");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("BakerId");

                    b.HasIndex("Level");

                    b.ToTable("AttestationRewardOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.AutostakingOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("Action")
                        .HasColumnType("integer");

                    b.Property<long>("Amount")
                        .HasColumnType("bigint");

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int>("StakingUpdatesCount")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("BakerId");

                    b.HasIndex("Level");

                    b.ToTable("AutostakingOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.BakerCycle", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<long>("AttestationRewardsDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("AttestationRewardsStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("AttestationRewardsStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("AttestationRewardsStakedShared")
                        .HasColumnType("bigint");

                    b.Property<int>("Attestations")
                        .HasColumnType("integer");

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<long>("BakingPower")
                        .HasColumnType("bigint");

                    b.Property<long>("BlockFees")
                        .HasColumnType("bigint");

                    b.Property<long>("BlockRewardsDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("BlockRewardsStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("BlockRewardsStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("BlockRewardsStakedShared")
                        .HasColumnType("bigint");

                    b.Property<int>("Blocks")
                        .HasColumnType("integer");

                    b.Property<int>("Cycle")
                        .HasColumnType("integer");

                    b.Property<long>("DalAttestationRewardsDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("DalAttestationRewardsStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("DalAttestationRewardsStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("DalAttestationRewardsStakedShared")
                        .HasColumnType("bigint");

                    b.Property<int>("DelegatorsCount")
                        .HasColumnType("integer");

                    b.Property<long>("DoubleBakingLostExternalStaked")
                        .HasColumnType("bigint");

                    b.Property<long>("DoubleBakingLostExternalUnstaked")
                        .HasColumnType("bigint");

                    b.Property<long>("DoubleBakingLostStaked")
                        .HasColumnType("bigint");

                    b.Property<long>("DoubleBakingLostUnstaked")
                        .HasColumnType("bigint");

                    b.Property<long>("DoubleBakingRewards")
                        .HasColumnType("bigint");

                    b.Property<long>("DoubleConsensusLostExternalStaked")
                        .HasColumnType("bigint");

                    b.Property<long>("DoubleConsensusLostExternalUnstaked")
                        .HasColumnType("bigint");

                    b.Property<long>("DoubleConsensusLostStaked")
                        .HasColumnType("bigint");

                    b.Property<long>("DoubleConsensusLostUnstaked")
                        .HasColumnType("bigint");

                    b.Property<long>("DoubleConsensusRewards")
                        .HasColumnType("bigint");

                    b.Property<double>("ExpectedAttestations")
                        .HasColumnType("double precision");

                    b.Property<double>("ExpectedBlocks")
                        .HasColumnType("double precision");

                    b.Property<long>("ExpectedDalAttestations")
                        .HasColumnType("bigint");

                    b.Property<long>("ExternalDelegatedBalance")
                        .HasColumnType("bigint");

                    b.Property<long>("ExternalStakedBalance")
                        .HasColumnType("bigint");

                    b.Property<long>("FutureAttestationRewards")
                        .HasColumnType("bigint");

                    b.Property<int>("FutureAttestations")
                        .HasColumnType("integer");

                    b.Property<long>("FutureBlockRewards")
                        .HasColumnType("bigint");

                    b.Property<int>("FutureBlocks")
                        .HasColumnType("integer");

                    b.Property<long>("FutureDalAttestationRewards")
                        .HasColumnType("bigint");

                    b.Property<BigInteger?>("IssuedPseudotokens")
                        .HasColumnType("numeric");

                    b.Property<long>("MissedAttestationRewards")
                        .HasColumnType("bigint");

                    b.Property<int>("MissedAttestations")
                        .HasColumnType("integer");

                    b.Property<long>("MissedBlockFees")
                        .HasColumnType("bigint");

                    b.Property<long>("MissedBlockRewards")
                        .HasColumnType("bigint");

                    b.Property<int>("MissedBlocks")
                        .HasColumnType("integer");

                    b.Property<long>("MissedDalAttestationRewards")
                        .HasColumnType("bigint");

                    b.Property<long>("NonceRevelationLosses")
                        .HasColumnType("bigint");

                    b.Property<long>("NonceRevelationRewardsDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("NonceRevelationRewardsStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("NonceRevelationRewardsStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("NonceRevelationRewardsStakedShared")
                        .HasColumnType("bigint");

                    b.Property<long>("OwnDelegatedBalance")
                        .HasColumnType("bigint");

                    b.Property<long>("OwnStakedBalance")
                        .HasColumnType("bigint");

                    b.Property<int>("StakersCount")
                        .HasColumnType("integer");

                    b.Property<long>("TotalBakingPower")
                        .HasColumnType("bigint");

                    b.Property<long>("VdfRevelationRewardsDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("VdfRevelationRewardsStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("VdfRevelationRewardsStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("VdfRevelationRewardsStakedShared")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("BakerId");

                    b.HasIndex("Cycle", "BakerId");

                    b.ToTable("BakerCycles", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.BakingRight", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Cycle")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int?>("Round")
                        .HasColumnType("integer");

                    b.Property<int?>("Slots")
                        .HasColumnType("integer");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<int>("Type")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("Cycle", "BakerId");

                    b.ToTable("BakingRights", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.BallotOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("Epoch")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("Period")
                        .HasColumnType("integer");

                    b.Property<int>("ProposalId")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("Vote")
                        .HasColumnType("integer");

                    b.Property<long>("VotingPower")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("Epoch");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("Period");

                    b.HasIndex("ProposalId");

                    b.HasIndex("SenderId");

                    b.ToTable("BallotOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.BigMap", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<bool>("Active")
                        .HasColumnType("boolean");

                    b.Property<int>("ActiveKeys")
                        .HasColumnType("integer");

                    b.Property<int>("ContractId")
                        .HasColumnType("integer");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<byte[]>("KeyType")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<int>("Ptr")
                        .HasColumnType("integer");

                    b.Property<string>("StoragePath")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("Tags")
                        .HasColumnType("integer");

                    b.Property<int>("TotalKeys")
                        .HasColumnType("integer");

                    b.Property<int>("Updates")
                        .HasColumnType("integer");

                    b.Property<byte[]>("ValueType")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.HasKey("Id");

                    b.HasIndex("ContractId");

                    b.HasIndex("Ptr")
                        .IsUnique();

                    b.ToTable("BigMaps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.BigMapKey", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<bool>("Active")
                        .HasColumnType("boolean");

                    b.Property<int>("BigMapPtr")
                        .HasColumnType("integer");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<string>("JsonKey")
                        .IsRequired()
                        .HasColumnType("jsonb");

                    b.Property<string>("JsonValue")
                        .IsRequired()
                        .HasColumnType("jsonb");

                    b.Property<string>("KeyHash")
                        .IsRequired()
                        .HasMaxLength(54)
                        .HasColumnType("character(54)")
                        .IsFixedLength();

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<byte[]>("RawKey")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<byte[]>("RawValue")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<int>("Updates")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("JsonKey");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("JsonKey"), "gin");
                    NpgsqlIndexBuilderExtensions.HasOperators(b.HasIndex("JsonKey"), new[] { "jsonb_path_ops" });

                    b.HasIndex("JsonValue");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("JsonValue"), "gin");
                    NpgsqlIndexBuilderExtensions.HasOperators(b.HasIndex("JsonValue"), new[] { "jsonb_path_ops" });

                    b.HasIndex("LastLevel");

                    b.HasIndex("BigMapPtr", "KeyHash");

                    b.HasIndex(new[] { "BigMapPtr" }, "IX_BigMapKeys_BigMapPtr_Partial")
                        .HasFilter("\"Active\" = true");

                    b.ToTable("BigMapKeys", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.BigMapUpdate", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("Action")
                        .HasColumnType("integer");

                    b.Property<int?>("BigMapKeyId")
                        .HasColumnType("integer");

                    b.Property<int>("BigMapPtr")
                        .HasColumnType("integer");

                    b.Property<string>("JsonValue")
                        .HasColumnType("jsonb");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long?>("MigrationId")
                        .HasColumnType("bigint");

                    b.Property<long?>("OriginationId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("RawValue")
                        .HasColumnType("bytea");

                    b.Property<long?>("TransactionId")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("MigrationId")
                        .HasFilter("\"MigrationId\" IS NOT NULL");

                    b.HasIndex("OriginationId")
                        .HasFilter("\"OriginationId\" IS NOT NULL");

                    b.HasIndex("TransactionId")
                        .HasFilter("\"TransactionId\" IS NOT NULL");

                    b.HasIndex("BigMapKeyId", "Id")
                        .HasFilter("\"BigMapKeyId\" IS NOT NULL");

                    b.HasIndex("BigMapPtr", "Id");

                    b.ToTable("BigMapUpdates", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Block", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long>("AttestationCommittee")
                        .HasColumnType("bigint");

                    b.Property<long>("AttestationPower")
                        .HasColumnType("bigint");

                    b.Property<int>("BlockRound")
                        .HasColumnType("integer");

                    b.Property<long>("BonusDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("BonusStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("BonusStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("BonusStakedShared")
                        .HasColumnType("bigint");

                    b.Property<int>("Cycle")
                        .HasColumnType("integer");

                    b.Property<long>("Deposit")
                        .HasColumnType("bigint");

                    b.Property<int>("Events")
                        .HasColumnType("integer");

                    b.Property<string>("Extras")
                        .HasColumnType("jsonb");

                    b.Property<long>("Fees")
                        .HasColumnType("bigint");

                    b.Property<string>("Hash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<bool?>("LBToggle")
                        .HasColumnType("boolean");

                    b.Property<int>("LBToggleEma")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long>("Operations")
                        .HasColumnType("bigint");

                    b.Property<int>("PayloadRound")
                        .HasColumnType("integer");

                    b.Property<int?>("ProducerId")
                        .HasColumnType("integer");

                    b.Property<int?>("ProposerId")
                        .HasColumnType("integer");

                    b.Property<int>("ProtoCode")
                        .HasColumnType("integer");

                    b.Property<int?>("ResetBakerDeactivation")
                        .HasColumnType("integer");

                    b.Property<int?>("ResetProposerDeactivation")
                        .HasColumnType("integer");

                    b.Property<long?>("RevelationId")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedShared")
                        .HasColumnType("bigint");

                    b.Property<int?>("SoftwareId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Hash")
                        .IsUnique();

                    b.HasIndex("Level")
                        .IsUnique();

                    b.HasIndex("ProducerId");

                    b.HasIndex("ProposerId");

                    b.ToTable("Blocks", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Commitment", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("AccountId")
                        .HasColumnType("integer");

                    b.Property<string>("Address")
                        .IsRequired()
                        .HasMaxLength(37)
                        .HasColumnType("character(37)")
                        .IsFixedLength();

                    b.Property<long>("Balance")
                        .HasColumnType("bigint");

                    b.Property<int?>("Level")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("AccountId");

                    b.HasIndex("Address")
                        .IsUnique();

                    b.ToTable("Commitments", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.ContractEvent", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("ContractCodeHash")
                        .HasColumnType("integer");

                    b.Property<int>("ContractId")
                        .HasColumnType("integer");

                    b.Property<string>("JsonPayload")
                        .HasColumnType("jsonb");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<byte[]>("RawPayload")
                        .HasColumnType("bytea");

                    b.Property<string>("Tag")
                        .HasColumnType("text");

                    b.Property<long>("TransactionId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("Type")
                        .HasColumnType("bytea");

                    b.HasKey("Id");

                    b.HasIndex("JsonPayload");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("JsonPayload"), "gin");
                    NpgsqlIndexBuilderExtensions.HasOperators(b.HasIndex("JsonPayload"), new[] { "jsonb_path_ops" });

                    b.HasIndex("Level");

                    b.HasIndex("Tag");

                    b.HasIndex("TransactionId");

                    b.HasIndex("ContractCodeHash", "Tag");

                    b.HasIndex("ContractId", "Tag");

                    b.ToTable("Events", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Cycle", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<long>("AttestationRewardPerBlock")
                        .HasColumnType("bigint");

                    b.Property<long>("BlockBonusPerBlock")
                        .HasColumnType("bigint");

                    b.Property<long>("BlockReward")
                        .HasColumnType("bigint");

                    b.Property<long>("DalAttestationRewardPerShard")
                        .HasColumnType("bigint");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("Index")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<long>("NonceRevelationReward")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("Seed")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("bytea")
                        .IsFixedLength();

                    b.Property<int>("SnapshotLevel")
                        .HasColumnType("integer");

                    b.Property<int>("TotalBakers")
                        .HasColumnType("integer");

                    b.Property<long>("TotalBakingPower")
                        .HasColumnType("bigint");

                    b.Property<long>("VdfRevelationReward")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("Index")
                        .IsUnique();

                    b.ToTable("Cycles", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.DalAttestationRewardOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<long>("Expected")
                        .HasColumnType("bigint");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long>("RewardDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedShared")
                        .HasColumnType("bigint");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("BakerId");

                    b.HasIndex("Level");

                    b.ToTable("DalAttestationRewardOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.DalEntrapmentEvidenceOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("AccuserId")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int>("OffenderId")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("TrapLevel")
                        .HasColumnType("integer");

                    b.Property<int>("TrapSlotIndex")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("AccuserId");

                    b.HasIndex("Level");

                    b.HasIndex("OffenderId");

                    b.HasIndex("OpHash");

                    b.ToTable("DalEntrapmentEvidenceOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.DalPublishCommitmentOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<string>("Commitment")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<int>("Slot")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.ToTable("DalPublishCommitmentOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.DelegationOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("Amount")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<int?>("DelegateId")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int?>("InitiatorId")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int?>("Nonce")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int?>("PrevDeactivationLevel")
                        .HasColumnType("integer");

                    b.Property<int?>("PrevDelegateId")
                        .HasColumnType("integer");

                    b.Property<int?>("PrevDelegationLevel")
                        .HasColumnType("integer");

                    b.Property<int?>("SenderCodeHash")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<int?>("StakingUpdatesCount")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("DelegateId");

                    b.HasIndex("InitiatorId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("PrevDelegateId");

                    b.HasIndex("SenderCodeHash")
                        .HasFilter("\"SenderCodeHash\" IS NOT NULL");

                    b.HasIndex("SenderId", "Id");

                    b.ToTable("DelegationOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.DelegationSnapshot", b =>
                {
                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("AccountId")
                        .HasColumnType("integer");

                    b.Property<int?>("DelegatorsCount")
                        .HasColumnType("integer");

                    b.Property<long?>("ExternalDelegatedBalance")
                        .HasColumnType("bigint");

                    b.Property<long>("OwnDelegatedBalance")
                        .HasColumnType("bigint");

                    b.Property<long?>("PrevMinTotalDelegated")
                        .HasColumnType("bigint");

                    b.Property<int?>("PrevMinTotalDelegatedLevel")
                        .HasColumnType("integer");

                    b.HasKey("Level", "BakerId", "AccountId");

                    b.HasIndex(new[] { "Level" }, "IX_DelegationSnapshots_Level_Partial")
                        .HasFilter("\"BakerId\" = \"AccountId\"");

                    b.ToTable("DelegationSnapshots", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.DelegatorCycle", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Cycle")
                        .HasColumnType("integer");

                    b.Property<long>("DelegatedBalance")
                        .HasColumnType("bigint");

                    b.Property<int>("DelegatorId")
                        .HasColumnType("integer");

                    b.Property<BigInteger?>("StakedPseudotokens")
                        .HasColumnType("numeric");

                    b.HasKey("Id");

                    b.HasIndex("DelegatorId");

                    b.HasIndex("Cycle", "BakerId");

                    b.HasIndex("Cycle", "DelegatorId");

                    b.ToTable("DelegatorCycles", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Domain", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Address")
                        .HasColumnType("text");

                    b.Property<JsonElement?>("Data")
                        .HasColumnType("jsonb");

                    b.Property<DateTime>("Expiration")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Owner")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<bool>("Reverse")
                        .HasColumnType("boolean");

                    b.HasKey("Id");

                    b.HasIndex("Address");

                    b.HasIndex("FirstLevel");

                    b.HasIndex("LastLevel");

                    b.HasIndex("Level");

                    b.HasIndex("Name");

                    b.HasIndex("Owner");

                    b.ToTable("Domains", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.DoubleBakingOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("AccusedLevel")
                        .HasColumnType("integer");

                    b.Property<int>("AccuserId")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long>("LostExternalStaked")
                        .HasColumnType("bigint");

                    b.Property<long>("LostExternalUnstaked")
                        .HasColumnType("bigint");

                    b.Property<long>("LostStaked")
                        .HasColumnType("bigint");

                    b.Property<long>("LostUnstaked")
                        .HasColumnType("bigint");

                    b.Property<int>("OffenderId")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<long>("Reward")
                        .HasColumnType("bigint");

                    b.Property<int>("SlashedLevel")
                        .HasColumnType("integer");

                    b.Property<int?>("StakingUpdatesCount")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("AccuserId");

                    b.HasIndex("Level");

                    b.HasIndex("OffenderId");

                    b.HasIndex("OpHash");

                    b.ToTable("DoubleBakingOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.DoubleConsensusOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("AccusedLevel")
                        .HasColumnType("integer");

                    b.Property<int>("AccuserId")
                        .HasColumnType("integer");

                    b.Property<int>("Kind")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long>("LostExternalStaked")
                        .HasColumnType("bigint");

                    b.Property<long>("LostExternalUnstaked")
                        .HasColumnType("bigint");

                    b.Property<long>("LostStaked")
                        .HasColumnType("bigint");

                    b.Property<long>("LostUnstaked")
                        .HasColumnType("bigint");

                    b.Property<int>("OffenderId")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<long>("Reward")
                        .HasColumnType("bigint");

                    b.Property<int>("SlashedLevel")
                        .HasColumnType("integer");

                    b.Property<int?>("StakingUpdatesCount")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("AccuserId");

                    b.HasIndex("Level");

                    b.HasIndex("OffenderId");

                    b.HasIndex("OpHash");

                    b.ToTable("DoubleConsensusOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.DrainDelegateOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("Amount")
                        .HasColumnType("bigint");

                    b.Property<int>("DelegateId")
                        .HasColumnType("integer");

                    b.Property<long>("Fee")
                        .HasColumnType("bigint");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("TargetId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("DelegateId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("TargetId");

                    b.ToTable("DrainDelegateOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.InboxMessage", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("Index")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long?>("OperationId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("Payload")
                        .HasColumnType("bytea");

                    b.Property<int?>("PredecessorLevel")
                        .HasColumnType("integer");

                    b.Property<string>("Protocol")
                        .HasColumnType("text");

                    b.Property<int>("Type")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OperationId");

                    b.HasIndex("Type", "Id");

                    b.ToTable("InboxMessages", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.IncreasePaidStorageOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<BigInteger>("Amount")
                        .HasColumnType("numeric");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int?>("ContractId")
                        .HasColumnType("integer");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("ContractId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.ToTable("IncreasePaidStorageOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.MigrationOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("AccountId")
                        .HasColumnType("integer");

                    b.Property<long>("BalanceChange")
                        .HasColumnType("bigint");

                    b.Property<int?>("BigMapUpdates")
                        .HasColumnType("integer");

                    b.Property<int>("Kind")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int?>("ScriptId")
                        .HasColumnType("integer");

                    b.Property<int?>("StorageId")
                        .HasColumnType("integer");

                    b.Property<int?>("SubIds")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("TokenTransfers")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("AccountId");

                    b.HasIndex("Level");

                    b.ToTable("MigrationOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.NonceRevelationOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<byte[]>("Nonce")
                        .IsRequired()
                        .HasMaxLength(32)
                        .HasColumnType("bytea")
                        .IsFixedLength();

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("RevealedCycle")
                        .HasColumnType("integer");

                    b.Property<int>("RevealedLevel")
                        .HasColumnType("integer");

                    b.Property<long>("RewardDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedShared")
                        .HasColumnType("bigint");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("BakerId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("RevealedCycle");

                    b.HasIndex("SenderId");

                    b.ToTable("NonceRevelationOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.OriginationOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<long>("Balance")
                        .HasColumnType("bigint");

                    b.Property<int?>("BigMapUpdates")
                        .HasColumnType("integer");

                    b.Property<int?>("ContractCodeHash")
                        .HasColumnType("integer");

                    b.Property<int?>("ContractId")
                        .HasColumnType("integer");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<int?>("DelegateId")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int?>("InitiatorId")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int?>("Nonce")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int?>("ScriptId")
                        .HasColumnType("integer");

                    b.Property<int?>("SenderCodeHash")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int?>("StorageId")
                        .HasColumnType("integer");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<int?>("SubIds")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("TokenTransfers")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("ContractCodeHash")
                        .HasFilter("\"ContractCodeHash\" IS NOT NULL");

                    b.HasIndex("ContractId");

                    b.HasIndex("DelegateId");

                    b.HasIndex("InitiatorId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderCodeHash")
                        .HasFilter("\"SenderCodeHash\" IS NOT NULL");

                    b.HasIndex("SenderId");

                    b.ToTable("OriginationOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.PreattestationOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("DelegateId")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<long>("Power")
                        .HasColumnType("bigint");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("DelegateId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.ToTable("PreattestationOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Proposal", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("Epoch")
                        .HasColumnType("integer");

                    b.Property<string>("Extras")
                        .HasColumnType("jsonb");

                    b.Property<int>("FirstPeriod")
                        .HasColumnType("integer");

                    b.Property<string>("Hash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("InitiatorId")
                        .HasColumnType("integer");

                    b.Property<int>("LastPeriod")
                        .HasColumnType("integer");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<int>("Upvotes")
                        .HasColumnType("integer");

                    b.Property<long>("VotingPower")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("Epoch");

                    b.HasIndex("FirstPeriod");

                    b.HasIndex("Hash");

                    b.HasIndex("LastPeriod");

                    b.HasIndex(new[] { "Status" }, "IX_Proposals_Status_Partial")
                        .HasFilter("\"Status\" = 0");

                    b.ToTable("Proposals", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.ProposalOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<bool>("Duplicated")
                        .HasColumnType("boolean");

                    b.Property<int>("Epoch")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("Period")
                        .HasColumnType("integer");

                    b.Property<int>("ProposalId")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<long>("VotingPower")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("Epoch");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("Period");

                    b.HasIndex("ProposalId");

                    b.HasIndex("SenderId");

                    b.ToTable("ProposalOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Protocol", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<long>("AttestationDeposit")
                        .HasColumnType("bigint");

                    b.Property<long>("AttestationReward0")
                        .HasColumnType("bigint");

                    b.Property<long>("AttestationReward1")
                        .HasColumnType("bigint");

                    b.Property<int>("AttestersPerBlock")
                        .HasColumnType("integer");

                    b.Property<int>("BallotQuorumMax")
                        .HasColumnType("integer");

                    b.Property<int>("BallotQuorumMin")
                        .HasColumnType("integer");

                    b.Property<long>("BlockDeposit")
                        .HasColumnType("bigint");

                    b.Property<long>("BlockReward0")
                        .HasColumnType("bigint");

                    b.Property<long>("BlockReward1")
                        .HasColumnType("bigint");

                    b.Property<int>("BlocksPerCommitment")
                        .HasColumnType("integer");

                    b.Property<int>("BlocksPerCycle")
                        .HasColumnType("integer");

                    b.Property<int>("BlocksPerSnapshot")
                        .HasColumnType("integer");

                    b.Property<int>("BlocksPerVoting")
                        .HasColumnType("integer");

                    b.Property<int>("ByteCost")
                        .HasColumnType("integer");

                    b.Property<int>("Code")
                        .HasColumnType("integer");

                    b.Property<int>("ConsensusRightsDelay")
                        .HasColumnType("integer");

                    b.Property<int>("ConsensusThreshold")
                        .HasColumnType("integer");

                    b.Property<int>("DelegateParametersActivationDelay")
                        .HasColumnType("integer");

                    b.Property<int>("DenunciationPeriod")
                        .HasColumnType("integer");

                    b.Property<string>("Dictator")
                        .HasColumnType("text");

                    b.Property<int>("DoubleBakingSlashedPercentage")
                        .HasColumnType("integer");

                    b.Property<int>("DoubleConsensusSlashedPercentage")
                        .HasColumnType("integer");

                    b.Property<string>("Extras")
                        .HasColumnType("jsonb");

                    b.Property<int>("FirstCycle")
                        .HasColumnType("integer");

                    b.Property<int>("FirstCycleLevel")
                        .HasColumnType("integer");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("HardBlockGasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("HardOperationGasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("HardOperationStorageLimit")
                        .HasColumnType("integer");

                    b.Property<string>("Hash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("LBToggleThreshold")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<long>("MaxAttestationReward")
                        .HasColumnType("bigint");

                    b.Property<long>("MaxBakingReward")
                        .HasColumnType("bigint");

                    b.Property<int>("MaxDelegatedOverFrozenRatio")
                        .HasColumnType("integer");

                    b.Property<int>("MaxExternalOverOwnStakeRatio")
                        .HasColumnType("integer");

                    b.Property<int>("MinParticipationDenominator")
                        .HasColumnType("integer");

                    b.Property<int>("MinParticipationNumerator")
                        .HasColumnType("integer");

                    b.Property<long>("MinimalFrozenStake")
                        .HasColumnType("bigint");

                    b.Property<long>("MinimalStake")
                        .HasColumnType("bigint");

                    b.Property<int>("NoRewardCycles")
                        .HasColumnType("integer");

                    b.Property<int>("NumberOfShards")
                        .HasColumnType("integer");

                    b.Property<int>("OriginationSize")
                        .HasColumnType("integer");

                    b.Property<int>("ProposalQuorum")
                        .HasColumnType("integer");

                    b.Property<int>("RampUpCycles")
                        .HasColumnType("integer");

                    b.Property<int>("SlashingDelay")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupChallengeWindow")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupCommitmentPeriod")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupOriginationSize")
                        .HasColumnType("integer");

                    b.Property<long>("SmartRollupStakeAmount")
                        .HasColumnType("bigint");

                    b.Property<int>("SmartRollupTimeoutPeriod")
                        .HasColumnType("integer");

                    b.Property<int>("StakePowerMultiplier")
                        .HasColumnType("integer");

                    b.Property<int>("TimeBetweenBlocks")
                        .HasColumnType("integer");

                    b.Property<int>("ToleratedInactivityPeriod")
                        .HasColumnType("integer");

                    b.Property<int>("Version")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique();

                    b.HasIndex("Hash")
                        .IsUnique();

                    b.ToTable("Protocols", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Quote", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<double>("Btc")
                        .HasColumnType("double precision");

                    b.Property<double>("Cny")
                        .HasColumnType("double precision");

                    b.Property<double>("Eth")
                        .HasColumnType("double precision");

                    b.Property<double>("Eur")
                        .HasColumnType("double precision");

                    b.Property<double>("Gbp")
                        .HasColumnType("double precision");

                    b.Property<double>("Jpy")
                        .HasColumnType("double precision");

                    b.Property<double>("Krw")
                        .HasColumnType("double precision");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<double>("Usd")
                        .HasColumnType("double precision");

                    b.HasKey("Id");

                    b.HasIndex("Level")
                        .IsUnique();

                    b.ToTable("Quotes", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.RefutationGame", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("InitiatorCommitmentId")
                        .HasColumnType("integer");

                    b.Property<int>("InitiatorId")
                        .HasColumnType("integer");

                    b.Property<long?>("InitiatorLoss")
                        .HasColumnType("bigint");

                    b.Property<long?>("InitiatorReward")
                        .HasColumnType("bigint");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<long>("LastMoveId")
                        .HasColumnType("bigint");

                    b.Property<int>("OpponentCommitmentId")
                        .HasColumnType("integer");

                    b.Property<int>("OpponentId")
                        .HasColumnType("integer");

                    b.Property<long?>("OpponentLoss")
                        .HasColumnType("bigint");

                    b.Property<long?>("OpponentReward")
                        .HasColumnType("bigint");

                    b.Property<int>("SmartRollupId")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("FirstLevel");

                    b.HasIndex("InitiatorCommitmentId");

                    b.HasIndex("InitiatorId");

                    b.HasIndex("LastLevel");

                    b.HasIndex("OpponentCommitmentId");

                    b.HasIndex("OpponentId");

                    b.HasIndex("SmartRollupId", "Id");

                    b.ToTable("RefutationGames", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.RegisterConstantOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<string>("Address")
                        .HasMaxLength(54)
                        .HasColumnType("character varying(54)");

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<string>("Extras")
                        .HasColumnType("jsonb");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int?>("Refs")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<byte[]>("Value")
                        .HasColumnType("bytea");

                    b.HasKey("Id");

                    b.HasIndex("Address")
                        .HasFilter("\"Address\" IS NOT NULL");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.ToTable("RegisterConstantOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.RevealOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.ToTable("RevealOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.RevelationPenaltyOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long>("Loss")
                        .HasColumnType("bigint");

                    b.Property<int>("MissedLevel")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("BakerId");

                    b.HasIndex("Level");

                    b.ToTable("RevelationPenaltyOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Script", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("CodeHash")
                        .HasColumnType("integer");

                    b.Property<byte[]>("CodeSchema")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<int>("ContractId")
                        .HasColumnType("integer");

                    b.Property<bool>("Current")
                        .HasColumnType("boolean");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long?>("MigrationId")
                        .HasColumnType("bigint");

                    b.Property<long?>("OriginationId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("ParameterSchema")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<byte[]>("StorageSchema")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<int>("TypeHash")
                        .HasColumnType("integer");

                    b.PrimitiveCollection<byte[][]>("Views")
                        .HasColumnType("bytea[]");

                    b.HasKey("Id");

                    b.HasIndex(new[] { "ContractId" }, "IX_Scripts_ContractId_Partial")
                        .HasFilter("\"Current\" = true");

                    b.ToTable("Scripts", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SetDelegateParametersOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int?>("ActivationCycle")
                        .HasColumnType("integer");

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<long?>("EdgeOfBakingOverStaking")
                        .HasColumnType("bigint");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long?>("LimitOfStakingOverBaking")
                        .HasColumnType("bigint");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("ActivationCycle");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId", "Id");

                    b.ToTable("SetDelegateParametersOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SetDepositsLimitOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<BigInteger?>("Limit")
                        .HasColumnType("numeric");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId", "Id");

                    b.ToTable("SetDepositsLimitOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SmartRollupAddMessagesOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int>("MessagesCount")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.ToTable("SmartRollupAddMessagesOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SmartRollupCementOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int?>("CommitmentId")
                        .HasColumnType("integer");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<int?>("SmartRollupId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("CommitmentId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.HasIndex("SmartRollupId", "Id");

                    b.ToTable("SmartRollupCementOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SmartRollupCommitment", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("ActiveStakers")
                        .HasColumnType("integer");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<string>("Hash")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("InboxLevel")
                        .HasColumnType("integer");

                    b.Property<int>("InitiatorId")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<int?>("PredecessorId")
                        .HasColumnType("integer");

                    b.Property<int>("SmartRollupId")
                        .HasColumnType("integer");

                    b.Property<int>("Stakers")
                        .HasColumnType("integer");

                    b.Property<string>("State")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<int>("Successors")
                        .HasColumnType("integer");

                    b.Property<long>("Ticks")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("InboxLevel");

                    b.HasIndex("LastLevel");

                    b.HasIndex("PredecessorId");

                    b.HasIndex("SmartRollupId");

                    b.HasIndex("Hash", "SmartRollupId");

                    b.ToTable("SmartRollupCommitments", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SmartRollupExecuteOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int?>("CommitmentId")
                        .HasColumnType("integer");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<int?>("SmartRollupId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<int?>("SubIds")
                        .HasColumnType("integer");

                    b.Property<int?>("TicketTransfers")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.HasIndex("SmartRollupId");

                    b.HasIndex("CommitmentId", "Id");

                    b.ToTable("SmartRollupExecuteOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SmartRollupOriginateOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<string>("GenesisCommitment")
                        .HasColumnType("text");

                    b.Property<byte[]>("Kernel")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<byte[]>("ParameterType")
                        .HasColumnType("bytea");

                    b.Property<int>("PvmKind")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<int?>("SmartRollupId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.HasIndex("SmartRollupId");

                    b.ToTable("SmartRollupOriginateOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SmartRollupPublishOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<long>("Bond")
                        .HasColumnType("bigint");

                    b.Property<int?>("BondStatus")
                        .HasColumnType("integer");

                    b.Property<int?>("CommitmentId")
                        .HasColumnType("integer");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("Flags")
                        .HasColumnType("integer");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<int?>("SmartRollupId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("CommitmentId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.HasIndex("SmartRollupId", "BondStatus", "SenderId")
                        .HasFilter("\"BondStatus\" IS NOT NULL");

                    b.HasIndex("SmartRollupId", "SenderId", "Id");

                    b.ToTable("SmartRollupPublishOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SmartRollupRecoverBondOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<long>("Bond")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<int?>("SmartRollupId")
                        .HasColumnType("integer");

                    b.Property<int?>("StakerId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.HasIndex("SmartRollupId");

                    b.HasIndex("StakerId");

                    b.ToTable("SmartRollupRecoverBondOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SmartRollupRefuteOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<long?>("DissectionEnd")
                        .HasColumnType("bigint");

                    b.Property<long?>("DissectionStart")
                        .HasColumnType("bigint");

                    b.Property<int?>("DissectionSteps")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int?>("GameId")
                        .HasColumnType("integer");

                    b.Property<int>("GameStatus")
                        .HasColumnType("integer");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int>("Move")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<int?>("SmartRollupId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.HasIndex("SmartRollupId");

                    b.HasIndex("GameId", "Id");

                    b.ToTable("SmartRollupRefuteOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SnapshotBalance", b =>
                {
                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("AccountId")
                        .HasColumnType("integer");

                    b.Property<int?>("DelegatorsCount")
                        .HasColumnType("integer");

                    b.Property<long?>("ExternalDelegatedBalance")
                        .HasColumnType("bigint");

                    b.Property<long?>("ExternalStakedBalance")
                        .HasColumnType("bigint");

                    b.Property<long>("OwnDelegatedBalance")
                        .HasColumnType("bigint");

                    b.Property<long?>("OwnStakedBalance")
                        .HasColumnType("bigint");

                    b.Property<BigInteger?>("Pseudotokens")
                        .HasColumnType("numeric");

                    b.Property<int?>("StakersCount")
                        .HasColumnType("integer");

                    b.HasKey("Level", "BakerId", "AccountId");

                    b.HasIndex(new[] { "Level" }, "IX_SnapshotBalances_Level_Partial")
                        .HasFilter("\"BakerId\" = \"AccountId\"");

                    b.ToTable("SnapshotBalances", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Software", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("BlocksCount")
                        .HasColumnType("integer");

                    b.Property<string>("Extras")
                        .HasColumnType("jsonb");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<string>("ShortHash")
                        .IsRequired()
                        .HasMaxLength(8)
                        .HasColumnType("character(8)")
                        .IsFixedLength();

                    b.HasKey("Id");

                    b.ToTable("Software", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.StakerCycle", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<long>("AddedStake")
                        .HasColumnType("bigint");

                    b.Property<long>("AvgStake")
                        .HasColumnType("bigint");

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Cycle")
                        .HasColumnType("integer");

                    b.Property<long?>("FinalStake")
                        .HasColumnType("bigint");

                    b.Property<long>("InitialStake")
                        .HasColumnType("bigint");

                    b.Property<long>("RemovedStake")
                        .HasColumnType("bigint");

                    b.Property<int>("StakerId")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("Cycle", "BakerId");

                    b.HasIndex("StakerId", "Cycle");

                    b.ToTable("StakerCycles", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.StakingOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("Action")
                        .HasColumnType("integer");

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long?>("Amount")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int?>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<long>("RequestedAmount")
                        .HasColumnType("bigint");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<int>("StakerId")
                        .HasColumnType("integer");

                    b.Property<int?>("StakingUpdatesCount")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("BakerId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.HasIndex("StakerId");

                    b.ToTable("StakingOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.StakingUpdate", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<long>("Amount")
                        .HasColumnType("bigint");

                    b.Property<long?>("AutostakingOpId")
                        .HasColumnType("bigint");

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Cycle")
                        .HasColumnType("integer");

                    b.Property<long?>("DelegationOpId")
                        .HasColumnType("bigint");

                    b.Property<long?>("DoubleBakingOpId")
                        .HasColumnType("bigint");

                    b.Property<long?>("DoubleConsensusOpId")
                        .HasColumnType("bigint");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<BigInteger?>("Pseudotokens")
                        .HasColumnType("numeric");

                    b.Property<long?>("RoundingError")
                        .HasColumnType("bigint");

                    b.Property<int>("StakerId")
                        .HasColumnType("integer");

                    b.Property<long?>("StakingOpId")
                        .HasColumnType("bigint");

                    b.Property<int>("Type")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("AutostakingOpId")
                        .HasFilter("\"AutostakingOpId\" IS NOT NULL");

                    b.HasIndex("DelegationOpId")
                        .HasFilter("\"DelegationOpId\" IS NOT NULL");

                    b.HasIndex("DoubleBakingOpId")
                        .HasFilter("\"DoubleBakingOpId\" IS NOT NULL");

                    b.HasIndex("DoubleConsensusOpId")
                        .HasFilter("\"DoubleConsensusOpId\" IS NOT NULL");

                    b.HasIndex("StakingOpId")
                        .HasFilter("\"StakingOpId\" IS NOT NULL");

                    b.HasIndex("Level", "Id");

                    b.HasIndex("BakerId", "Cycle", "Id");

                    b.HasIndex("StakerId", "Cycle", "Id");

                    b.ToTable("StakingUpdates", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Statistics", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("Cycle")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("Date")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long>("TotalActivated")
                        .HasColumnType("bigint");

                    b.Property<int>("TotalBakers")
                        .HasColumnType("integer");

                    b.Property<long>("TotalBakingPower")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalBanished")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalBootstrapped")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalBurned")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalCommitments")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalCreated")
                        .HasColumnType("bigint");

                    b.Property<int>("TotalDelegators")
                        .HasColumnType("integer");

                    b.Property<long>("TotalExternalDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalExternalStaked")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalFrozen")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalLost")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalOwnDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalOwnStaked")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalRollupBonds")
                        .HasColumnType("bigint");

                    b.Property<long>("TotalSmartRollupBonds")
                        .HasColumnType("bigint");

                    b.Property<int>("TotalStakers")
                        .HasColumnType("integer");

                    b.Property<long>("TotalVotingPower")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("Cycle")
                        .IsUnique()
                        .HasFilter("\"Cycle\" IS NOT NULL");

                    b.HasIndex("Date")
                        .IsUnique()
                        .HasFilter("\"Date\" IS NOT NULL");

                    b.HasIndex("Level")
                        .IsUnique();

                    b.ToTable("Statistics", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Storage", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("ContractId")
                        .HasColumnType("integer");

                    b.Property<bool>("Current")
                        .HasColumnType("boolean");

                    b.Property<string>("JsonValue")
                        .IsRequired()
                        .HasColumnType("jsonb");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long?>("MigrationId")
                        .HasColumnType("bigint");

                    b.Property<long?>("OriginationId")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("RawValue")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<long?>("TransactionId")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("ContractId", "Id");

                    b.HasIndex(new[] { "ContractId" }, "IX_Storages_ContractId_Partial")
                        .HasFilter("\"Current\" = true");

                    b.ToTable("Storages", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Ticket", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("BalancesCount")
                        .HasColumnType("integer");

                    b.Property<int>("ContentHash")
                        .HasColumnType("integer");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("FirstMinterId")
                        .HasColumnType("integer");

                    b.Property<int>("HoldersCount")
                        .HasColumnType("integer");

                    b.Property<string>("JsonContent")
                        .HasColumnType("jsonb");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<byte[]>("RawContent")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<byte[]>("RawType")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<int>("TicketerId")
                        .HasColumnType("integer");

                    b.Property<BigInteger>("TotalBurned")
                        .HasColumnType("numeric");

                    b.Property<BigInteger>("TotalMinted")
                        .HasColumnType("numeric");

                    b.Property<BigInteger>("TotalSupply")
                        .HasColumnType("numeric");

                    b.Property<int>("TransfersCount")
                        .HasColumnType("integer");

                    b.Property<int>("TypeHash")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("ContentHash");

                    b.HasIndex("FirstLevel");

                    b.HasIndex("FirstMinterId");

                    b.HasIndex("JsonContent");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("JsonContent"), "gin");
                    NpgsqlIndexBuilderExtensions.HasOperators(b.HasIndex("JsonContent"), new[] { "jsonb_path_ops" });

                    b.HasIndex("LastLevel");

                    b.HasIndex("TypeHash");

                    b.HasIndex("TicketerId", "TypeHash", "ContentHash");

                    b.ToTable("Tickets", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TicketBalance", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("AccountId")
                        .HasColumnType("integer");

                    b.Property<BigInteger>("Balance")
                        .HasColumnType("numeric");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<long>("TicketId")
                        .HasColumnType("bigint");

                    b.Property<int>("TicketerId")
                        .HasColumnType("integer");

                    b.Property<int>("TransfersCount")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("FirstLevel");

                    b.HasIndex("LastLevel");

                    b.HasIndex("TicketId");

                    b.HasIndex("TicketerId");

                    b.HasIndex("AccountId", "TicketId")
                        .IsUnique();

                    b.HasIndex("AccountId", "TicketerId");

                    b.ToTable("TicketBalances", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TicketTransfer", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<BigInteger>("Amount")
                        .HasColumnType("numeric");

                    b.Property<int?>("FromId")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long?>("SmartRollupExecuteId")
                        .HasColumnType("bigint");

                    b.Property<long>("TicketId")
                        .HasColumnType("bigint");

                    b.Property<int>("TicketerId")
                        .HasColumnType("integer");

                    b.Property<int?>("ToId")
                        .HasColumnType("integer");

                    b.Property<long?>("TransactionId")
                        .HasColumnType("bigint");

                    b.Property<long?>("TransferTicketId")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("FromId");

                    b.HasIndex("SmartRollupExecuteId")
                        .HasFilter("\"SmartRollupExecuteId\" IS NOT NULL");

                    b.HasIndex("TicketId");

                    b.HasIndex("TicketerId");

                    b.HasIndex("ToId");

                    b.HasIndex("TransactionId")
                        .HasFilter("\"TransactionId\" IS NOT NULL");

                    b.HasIndex("TransferTicketId")
                        .HasFilter("\"TransferTicketId\" IS NOT NULL");

                    b.HasIndex("Level", "Id");

                    b.ToTable("TicketTransfers", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Token", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("BalancesCount")
                        .HasColumnType("integer");

                    b.Property<int>("ContractId")
                        .HasColumnType("integer");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("FirstMinterId")
                        .HasColumnType("integer");

                    b.Property<int>("HoldersCount")
                        .HasColumnType("integer");

                    b.Property<int?>("IndexedAt")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<string>("Metadata")
                        .HasColumnType("jsonb");

                    b.Property<int?>("OwnerId")
                        .HasColumnType("integer");

                    b.Property<int>("Tags")
                        .HasColumnType("integer");

                    b.Property<BigInteger>("TokenId")
                        .HasColumnType("numeric");

                    b.Property<BigInteger>("TotalBurned")
                        .HasColumnType("numeric");

                    b.Property<BigInteger>("TotalMinted")
                        .HasColumnType("numeric");

                    b.Property<BigInteger>("TotalSupply")
                        .HasColumnType("numeric");

                    b.Property<int>("TransfersCount")
                        .HasColumnType("integer");

                    b.Property<decimal>("Value")
                        .HasColumnType("numeric");

                    b.HasKey("Id");

                    b.HasIndex("FirstMinterId");

                    b.HasIndex("IndexedAt")
                        .HasFilter("\"IndexedAt\" IS NOT NULL");

                    b.HasIndex("LastLevel");

                    b.HasIndex("Metadata");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Metadata"), "gin");
                    NpgsqlIndexBuilderExtensions.HasOperators(b.HasIndex("Metadata"), new[] { "jsonb_path_ops" });

                    b.HasIndex("ContractId", "TokenId")
                        .IsUnique();

                    b.ToTable("Tokens", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TokenBalance", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("AccountId")
                        .HasColumnType("integer");

                    b.Property<BigInteger>("Balance")
                        .HasColumnType("numeric");

                    b.Property<int>("ContractId")
                        .HasColumnType("integer");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int?>("IndexedAt")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<long>("TokenId")
                        .HasColumnType("bigint");

                    b.Property<int>("TransfersCount")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("ContractId");

                    b.HasIndex("IndexedAt")
                        .HasFilter("\"IndexedAt\" IS NOT NULL");

                    b.HasIndex("LastLevel");

                    b.HasIndex("TokenId");

                    b.HasIndex("AccountId", "ContractId");

                    b.HasIndex("AccountId", "TokenId")
                        .IsUnique();

                    b.HasIndex(new[] { "AccountId" }, "IX_TokenBalances_AccountId_Partial")
                        .HasFilter("\"Balance\" != '0'");

                    b.HasIndex(new[] { "ContractId" }, "IX_TokenBalances_ContractId_Partial")
                        .HasFilter("\"Balance\" != '0'");

                    b.HasIndex(new[] { "TokenId" }, "IX_TokenBalances_TokenId_Partial")
                        .HasFilter("\"Balance\" != '0'");

                    b.ToTable("TokenBalances", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TokenTransfer", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<BigInteger>("Amount")
                        .HasColumnType("numeric");

                    b.Property<int>("ContractId")
                        .HasColumnType("integer");

                    b.Property<int?>("FromId")
                        .HasColumnType("integer");

                    b.Property<int?>("IndexedAt")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long?>("MigrationId")
                        .HasColumnType("bigint");

                    b.Property<long?>("OriginationId")
                        .HasColumnType("bigint");

                    b.Property<int?>("ToId")
                        .HasColumnType("integer");

                    b.Property<long>("TokenId")
                        .HasColumnType("bigint");

                    b.Property<long?>("TransactionId")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("ContractId");

                    b.HasIndex("FromId")
                        .HasFilter("\"FromId\" IS NOT NULL");

                    b.HasIndex("IndexedAt")
                        .HasFilter("\"IndexedAt\" IS NOT NULL");

                    b.HasIndex("MigrationId")
                        .HasFilter("\"MigrationId\" IS NOT NULL");

                    b.HasIndex("OriginationId")
                        .HasFilter("\"OriginationId\" IS NOT NULL");

                    b.HasIndex("ToId")
                        .HasFilter("\"ToId\" IS NOT NULL");

                    b.HasIndex("TokenId");

                    b.HasIndex("TransactionId")
                        .HasFilter("\"TransactionId\" IS NOT NULL");

                    b.HasIndex("Level", "Id");

                    b.ToTable("TokenTransfers", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TransactionOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int?>("AddressRegistryIndex")
                        .HasColumnType("integer");

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("Amount")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int?>("BigMapUpdates")
                        .HasColumnType("integer");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Entrypoint")
                        .HasColumnType("text");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int?>("EventsCount")
                        .HasColumnType("integer");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int?>("InitiatorId")
                        .HasColumnType("integer");

                    b.Property<short?>("InternalDelegations")
                        .HasColumnType("smallint");

                    b.Property<short?>("InternalOperations")
                        .HasColumnType("smallint");

                    b.Property<short?>("InternalOriginations")
                        .HasColumnType("smallint");

                    b.Property<short?>("InternalTransactions")
                        .HasColumnType("smallint");

                    b.Property<string>("JsonParameters")
                        .HasColumnType("jsonb");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int?>("Nonce")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<byte[]>("RawParameters")
                        .HasColumnType("bytea");

                    b.Property<int?>("ResetDeactivation")
                        .HasColumnType("integer");

                    b.Property<int?>("SenderCodeHash")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int?>("StorageId")
                        .HasColumnType("integer");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<int?>("SubIds")
                        .HasColumnType("integer");

                    b.Property<int?>("TargetCodeHash")
                        .HasColumnType("integer");

                    b.Property<int?>("TargetId")
                        .HasColumnType("integer");

                    b.Property<int?>("TicketTransfers")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int?>("TokenTransfers")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("InitiatorId");

                    b.HasIndex("JsonParameters");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("JsonParameters"), "gin");
                    NpgsqlIndexBuilderExtensions.HasOperators(b.HasIndex("JsonParameters"), new[] { "jsonb_path_ops" });

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderCodeHash")
                        .HasFilter("\"SenderCodeHash\" IS NOT NULL");

                    b.HasIndex("SenderId");

                    b.HasIndex("TargetCodeHash")
                        .HasFilter("\"TargetCodeHash\" IS NOT NULL");

                    b.HasIndex("TargetId");

                    b.HasIndex(new[] { "TargetId" }, "IX_TransactionOps_TargetId_Partial")
                        .HasFilter("\"Entrypoint\" = 'transfer' AND \"TokenTransfers\" IS NULL AND \"Status\" = 1");

                    b.ToTable("TransactionOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TransferTicketOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<BigInteger>("Amount")
                        .HasColumnType("numeric");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Entrypoint")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<string>("JsonContent")
                        .HasColumnType("text");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<byte[]>("RawContent")
                        .HasColumnType("bytea");

                    b.Property<byte[]>("RawType")
                        .HasColumnType("bytea");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<int?>("SubIds")
                        .HasColumnType("integer");

                    b.Property<int?>("TargetId")
                        .HasColumnType("integer");

                    b.Property<int?>("TicketTransfers")
                        .HasColumnType("integer");

                    b.Property<int?>("TicketerId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId");

                    b.HasIndex("TargetId");

                    b.HasIndex("TicketerId");

                    b.ToTable("TransferTicketOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TxRollupCommitOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<long>("Bond")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int?>("RollupId")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("RollupId");

                    b.HasIndex("SenderId");

                    b.ToTable("TxRollupCommitOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TxRollupDispatchTicketsOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int?>("RollupId")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("RollupId");

                    b.HasIndex("SenderId");

                    b.ToTable("TxRollupDispatchTicketsOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TxRollupFinalizeCommitmentOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int?>("RollupId")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("RollupId");

                    b.HasIndex("SenderId");

                    b.ToTable("TxRollupFinalizeCommitmentOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TxRollupOriginationOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int?>("RollupId")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("RollupId");

                    b.HasIndex("SenderId");

                    b.ToTable("TxRollupOriginationOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TxRollupRejectionOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("CommitterId")
                        .HasColumnType("integer");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<long>("Loss")
                        .HasColumnType("bigint");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<long>("Reward")
                        .HasColumnType("bigint");

                    b.Property<int?>("RollupId")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("CommitterId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("RollupId");

                    b.HasIndex("SenderId");

                    b.ToTable("TxRollupRejectionOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TxRollupRemoveCommitmentOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int?>("RollupId")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("RollupId");

                    b.HasIndex("SenderId");

                    b.ToTable("TxRollupRemoveCommitmentOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TxRollupReturnBondOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<long>("Bond")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int?>("RollupId")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("RollupId");

                    b.HasIndex("SenderId");

                    b.ToTable("TxRollupReturnBondOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.TxRollupSubmitBatchOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<int?>("RollupId")
                        .HasColumnType("integer");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("RollupId");

                    b.HasIndex("SenderId");

                    b.ToTable("TxRollupSubmitBatchOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.UnstakeRequest", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Cycle")
                        .HasColumnType("integer");

                    b.Property<long>("FinalizedAmount")
                        .HasColumnType("bigint");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<long>("RequestedAmount")
                        .HasColumnType("bigint");

                    b.Property<long>("RestakedAmount")
                        .HasColumnType("bigint");

                    b.Property<long?>("RoundingError")
                        .HasColumnType("bigint");

                    b.Property<long>("SlashedAmount")
                        .HasColumnType("bigint");

                    b.Property<int?>("StakerId")
                        .HasColumnType("integer");

                    b.Property<int>("UpdatesCount")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("BakerId", "Cycle");

                    b.HasIndex("StakerId", "Cycle");

                    b.ToTable("UnstakeRequests", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.UpdateSecondaryKeyOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("ActivationCycle")
                        .HasColumnType("integer");

                    b.Property<long?>("AllocationFee")
                        .HasColumnType("bigint");

                    b.Property<long>("BakerFee")
                        .HasColumnType("bigint");

                    b.Property<int>("Counter")
                        .HasColumnType("integer");

                    b.Property<string>("Errors")
                        .HasColumnType("text");

                    b.Property<int>("GasLimit")
                        .HasColumnType("integer");

                    b.Property<int>("GasUsed")
                        .HasColumnType("integer");

                    b.Property<int>("KeyType")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<string>("PublicKey")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("PublicKeyHash")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("SenderId")
                        .HasColumnType("integer");

                    b.Property<byte>("Status")
                        .HasColumnType("smallint");

                    b.Property<long?>("StorageFee")
                        .HasColumnType("bigint");

                    b.Property<int>("StorageLimit")
                        .HasColumnType("integer");

                    b.Property<int>("StorageUsed")
                        .HasColumnType("integer");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("ActivationCycle");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("SenderId", "Id");

                    b.ToTable("UpdateSecondaryKeyOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.VdfRevelationOperation", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Cycle")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<string>("OpHash")
                        .IsRequired()
                        .HasMaxLength(51)
                        .HasColumnType("character(51)")
                        .IsFixedLength();

                    b.Property<byte[]>("Proof")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<long>("RewardDelegated")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedEdge")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedOwn")
                        .HasColumnType("bigint");

                    b.Property<long>("RewardStakedShared")
                        .HasColumnType("bigint");

                    b.Property<byte[]>("Solution")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.HasIndex("BakerId");

                    b.HasIndex("Level");

                    b.HasIndex("OpHash");

                    b.HasIndex("Cycle", "Id");

                    b.ToTable("VdfRevelationOps", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.VotingPeriod", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("BallotsQuorum")
                        .HasColumnType("integer");

                    b.Property<int>("Dictator")
                        .HasColumnType("integer");

                    b.Property<int>("Epoch")
                        .HasColumnType("integer");

                    b.Property<int>("FirstLevel")
                        .HasColumnType("integer");

                    b.Property<int>("Index")
                        .HasColumnType("integer");

                    b.Property<int>("Kind")
                        .HasColumnType("integer");

                    b.Property<int>("LastLevel")
                        .HasColumnType("integer");

                    b.Property<int?>("NayBallots")
                        .HasColumnType("integer");

                    b.Property<long?>("NayVotingPower")
                        .HasColumnType("bigint");

                    b.Property<int?>("ParticipationEma")
                        .HasColumnType("integer");

                    b.Property<int?>("PassBallots")
                        .HasColumnType("integer");

                    b.Property<long?>("PassVotingPower")
                        .HasColumnType("bigint");

                    b.Property<int?>("ProposalsCount")
                        .HasColumnType("integer");

                    b.Property<bool?>("SingleWinner")
                        .HasColumnType("boolean");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<int?>("Supermajority")
                        .HasColumnType("integer");

                    b.Property<int?>("TopUpvotes")
                        .HasColumnType("integer");

                    b.Property<long?>("TopVotingPower")
                        .HasColumnType("bigint");

                    b.Property<int>("TotalBakers")
                        .HasColumnType("integer");

                    b.Property<long>("TotalVotingPower")
                        .HasColumnType("bigint");

                    b.Property<int?>("UpvotesQuorum")
                        .HasColumnType("integer");

                    b.Property<int?>("YayBallots")
                        .HasColumnType("integer");

                    b.Property<long?>("YayVotingPower")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("Epoch");

                    b.HasIndex("Index")
                        .IsUnique();

                    b.ToTable("VotingPeriods", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.VotingSnapshot", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("BakerId")
                        .HasColumnType("integer");

                    b.Property<int>("Level")
                        .HasColumnType("integer");

                    b.Property<int>("Period")
                        .HasColumnType("integer");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<long>("VotingPower")
                        .HasColumnType("bigint");

                    b.HasKey("Id");

                    b.HasIndex("Period", "BakerId")
                        .IsUnique();

                    b.ToTable("VotingSnapshots", (string)null);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Contract", b =>
                {
                    b.HasBaseType("Tzkt.Data.Models.Account");

                    b.Property<int>("CodeHash")
                        .HasColumnType("integer");

                    b.Property<int>("CreatorId")
                        .ValueGeneratedOnUpdateSometimes()
                        .HasColumnType("integer")
                        .HasColumnName("CreatorId");

                    b.Property<int>("EventsCount")
                        .HasColumnType("integer");

                    b.Property<byte>("Kind")
                        .HasColumnType("smallint");

                    b.Property<int>("Tags")
                        .HasColumnType("integer");

                    b.Property<int>("TicketsCount")
                        .HasColumnType("integer");

                    b.Property<int>("TokensCount")
                        .HasColumnType("integer");

                    b.Property<int>("TypeHash")
                        .HasColumnType("integer");

                    b.HasIndex("CodeHash");

                    b.HasIndex("CreatorId");

                    b.HasIndex("TypeHash");

                    b.HasIndex(new[] { "Kind" }, "IX_Accounts_Kind_Partial")
                        .HasFilter("\"Type\" = 2");

                    b.HasDiscriminator().HasValue((byte)2);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Rollup", b =>
                {
                    b.HasBaseType("Tzkt.Data.Models.Account");

                    b.Property<int>("CreatorId")
                        .ValueGeneratedOnUpdateSometimes()
                        .HasColumnType("integer")
                        .HasColumnName("CreatorId");

                    b.HasIndex("CreatorId");

                    b.HasDiscriminator().HasValue((byte)4);
                });

            modelBuilder.Entity("Tzkt.Data.Models.SmartRollup", b =>
                {
                    b.HasBaseType("Tzkt.Data.Models.Account");

                    b.Property<int>("ActiveStakers")
                        .HasColumnType("integer");

                    b.Property<int>("CementedCommitments")
                        .HasColumnType("integer");

                    b.Property<int>("CreatorId")
                        .ValueGeneratedOnUpdateSometimes()
                        .HasColumnType("integer")
                        .HasColumnName("CreatorId");

                    b.Property<int>("ExecutedCommitments")
                        .HasColumnType("integer");

                    b.Property<string>("GenesisCommitment")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("InboxLevel")
                        .HasColumnType("integer");

                    b.Property<string>("LastCommitment")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int>("OrphanCommitments")
                        .HasColumnType("integer");

                    b.Property<byte[]>("ParameterSchema")
                        .IsRequired()
                        .HasColumnType("bytea");

                    b.Property<int>("PendingCommitments")
                        .HasColumnType("integer");

                    b.Property<int>("PvmKind")
                        .HasColumnType("integer");

                    b.Property<int>("RefutedCommitments")
                        .HasColumnType("integer");

                    b.Property<int>("TotalStakers")
                        .HasColumnType("integer");

                    b.HasIndex("CreatorId");

                    b.HasDiscriminator().HasValue((byte)5);
                });

            modelBuilder.Entity("Tzkt.Data.Models.User", b =>
                {
                    b.HasBaseType("Tzkt.Data.Models.Account");

                    b.Property<int>("ActivationsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DalPublishCommitmentOpsCount")
                        .HasColumnType("integer");

                    b.Property<string>("PublicKey")
                        .HasColumnType("text");

                    b.Property<int>("RegisterConstantsCount")
                        .HasColumnType("integer");

                    b.Property<bool>("Revealed")
                        .HasColumnType("boolean");

                    b.Property<int>("SetDelegateParametersOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("SetDepositsLimitsCount")
                        .HasColumnType("integer");

                    b.Property<BigInteger?>("StakedPseudotokens")
                        .HasColumnType("numeric");

                    b.Property<int>("StakingOpsCount")
                        .HasColumnType("integer");

                    b.Property<int?>("StakingUpdatesCount")
                        .HasColumnType("integer");

                    b.Property<int?>("UnstakedBakerId")
                        .HasColumnType("integer");

                    b.Property<long>("UnstakedBalance")
                        .HasColumnType("bigint");

                    b.HasIndex("UnstakedBakerId")
                        .HasFilter("\"UnstakedBakerId\" IS NOT NULL");

                    b.HasDiscriminator().HasValue((byte)0);
                });

            modelBuilder.Entity("Tzkt.Data.Models.Delegate", b =>
                {
                    b.HasBaseType("Tzkt.Data.Models.User");

                    b.Property<int>("ActivationLevel")
                        .HasColumnType("integer");

                    b.Property<int>("AttestationRewardsCount")
                        .HasColumnType("integer");

                    b.Property<int>("AttestationsCount")
                        .HasColumnType("integer");

                    b.Property<int>("AutostakingOpsCount")
                        .HasColumnType("integer");

                    b.Property<long>("BakingPower")
                        .HasColumnType("bigint");

                    b.Property<int>("BallotsCount")
                        .HasColumnType("integer");

                    b.Property<int>("BlocksCount")
                        .HasColumnType("integer");

                    b.Property<string>("CompanionAddress")
                        .HasColumnType("text");

                    b.Property<string>("ConsensusAddress")
                        .HasColumnType("text");

                    b.Property<int>("DalAttestationRewardsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DalEntrapmentEvidenceOpsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DeactivationLevel")
                        .HasColumnType("integer");

                    b.Property<int>("DelegatorsCount")
                        .HasColumnType("integer");

                    b.Property<int>("DoubleBakingCount")
                        .HasColumnType("integer");

                    b.Property<int>("DoubleConsensusCount")
                        .HasColumnType("integer");

                    b.Property<long?>("EdgeOfBakingOverStaking")
                        .HasColumnType("bigint");

                    b.Property<long>("ExternalDelegatedBalance")
                        .HasColumnType("bigint");

                    b.Property<long>("ExternalStakedBalance")
                        .HasColumnType("bigint");

                    b.Property<long>("ExternalUnstakedBalance")
                        .HasColumnType("bigint");

                    b.Property<long?>("FrozenDepositLimit")
                        .HasColumnType("bigint");

                    b.Property<BigInteger?>("IssuedPseudotokens")
                        .HasColumnType("numeric");

                    b.Property<long?>("LimitOfStakingOverBaking")
                        .HasColumnType("bigint");

                    b.Property<long>("MinTotalDelegated")
                        .HasColumnType("bigint");

                    b.Property<int>("MinTotalDelegatedLevel")
                        .HasColumnType("integer");

                    b.Property<int>("NonceRevelationsCount")
                        .HasColumnType("integer");

                    b.Property<long>("OwnDelegatedBalance")
                        .HasColumnType("bigint");

                    b.Property<long>("OwnStakedBalance")
                        .HasColumnType("bigint");

                    b.Property<int>("PreattestationsCount")
                        .HasColumnType("integer");

                    b.Property<int>("ProposalsCount")
                        .HasColumnType("integer");

                    b.Property<int>("RevelationPenaltiesCount")
                        .HasColumnType("integer");

                    b.Property<long>("RoundingError")
                        .HasColumnType("bigint");

                    b.Property<int?>("SoftwareId")
                        .HasColumnType("integer");

                    b.Property<int?>("SoftwareUpdateLevel")
                        .HasColumnType("integer");

                    b.Property<int>("StakersCount")
                        .HasColumnType("integer");

                    b.Property<int>("VdfRevelationsCount")
                        .HasColumnType("integer");

                    b.Property<long>("VotingPower")
                        .HasColumnType("bigint");

                    b.HasIndex(new[] { "DeactivationLevel" }, "IX_Accounts_DeactivationLevel_Partial")
                        .HasFilter("\"Type\" = 1");

                    b.HasIndex(new[] { "Staked" }, "IX_Accounts_Staked_Partial")
                        .HasFilter("\"Type\" = 1");

                    b.HasDiscriminator().HasValue((byte)1);
                });
#pragma warning restore 612, 618
        }
    }
}
